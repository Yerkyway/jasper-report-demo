<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports
              http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="test_report" pageWidth="595" pageHeight="842" columnWidth="535"
              leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">


<!-- Parameters -->
<parameter name="reportTitle" class="java.lang.String"/>
<parameter name="companyName" class="java.lang.String"/>
<parameter name="generatedDate" class="java.lang.String"/>
<parameter name="reportPeriod" class="java.lang.String"/>
<parameter name="totalAmount" class="java.lang.Double"/>
<parameter name="currency" class="java.lang.String"/>

        <!-- Fields from data source -->
<field name="id" class="java.lang.Integer"/>
<field name="name" class="java.lang.String"/>
<field name="category" class="java.lang.String"/>
<field name="quantity" class="java.lang.Integer"/>
<field name="unitPrice" class="java.lang.Double"/>
<field name="totalPrice" class="java.lang.Double"/>
<field name="date" class="java.lang.String"/>

        <!-- Variables for calculations -->
<variable name="totalSum" class="java.lang.Double" calculation="Sum">
<variableExpression><![CDATA[$F{totalPrice}]]></variableExpression>
</variable>

<variable name="itemCount" class="java.lang.Integer" calculation="Count">
<variableExpression><![CDATA[$F{id}]]></variableExpression>
</variable>

        <!-- Title Band -->
<title>
<band height="120" splitType="Stretch">
    <rectangle>
        <reportElement x="0" y="0" width="535" height="60" backcolor="#4A90E2"/>
        <graphicElement>
            <pen lineWidth="0"/>
        </graphicElement>
    </rectangle>

    <staticText>
        <reportElement x="20" y="15" width="200" height="30" forecolor="#FFFFFF"/>
        <textElement>
            <font size="20" isBold="true"/>
        </textElement>
        <text><![CDATA[JASPER DEMO]]></text>
    </staticText>

    <textField>
        <reportElement x="20" y="75" width="300" height="25"/>
        <textElement>
            <font size="16" isBold="true"/>
        </textElement>
        <textFieldExpression><![CDATA[$P{reportTitle}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="350" y="75" width="180" height="20"/>
        <textElement textAlignment="Right"/>
        <textFieldExpression><![CDATA["Generated: " + $P{generatedDate}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="350" y="95" width="180" height="20"/>
        <textElement textAlignment="Right">
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA["Period: " + $P{reportPeriod}]]></textFieldExpression>
    </textField>
</band>
</title>

        <!-- Page Header -->
<pageHeader>
<band height="35" splitType="Stretch">
    <staticText>
        <reportElement x="0" y="10" width="50" height="20" forecolor="#666666"/>
        <textElement>
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[ID]]></text>
    </staticText>

    <staticText>
        <reportElement x="60" y="10" width="150" height="20" forecolor="#666666"/>
        <textElement>
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[Product Name]]></text>
    </staticText>

    <staticText>
        <reportElement x="220" y="10" width="80" height="20" forecolor="#666666"/>
        <textElement>
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[Category]]></text>
    </staticText>

    <staticText>
        <reportElement x="310" y="10" width="50" height="20" forecolor="#666666"/>
        <textElement textAlignment="Center">
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[Qty]]></text>
    </staticText>

    <staticText>
        <reportElement x="370" y="10" width="80" height="20" forecolor="#666666"/>
        <textElement textAlignment="Right">
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[Unit Price]]></text>
    </staticText>

    <staticText>
        <reportElement x="460" y="10" width="75" height="20" forecolor="#666666"/>
        <textElement textAlignment="Right">
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[Total]]></text>
    </staticText>

    <line>
        <reportElement x="0" y="32" width="535" height="1"/>
        <graphicElement>
            <pen lineColor="#CCCCCC"/>
        </graphicElement>
    </line>
</band>
</pageHeader>

        <!-- Detail Band -->
<detail>
<band height="25" splitType="Stretch">
    <textField>
        <reportElement x="0" y="5" width="50" height="15"/>
        <textElement>
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="60" y="5" width="150" height="15"/>
        <textElement>
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="220" y="5" width="80" height="15"/>
        <textElement>
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{category}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="310" y="5" width="50" height="15"/>
        <textElement textAlignment="Center">
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{quantity}]]></textFieldExpression>
    </textField>

    <textField pattern="#,##0.00">
        <reportElement x="370" y="5" width="80" height="15"/>
        <textElement textAlignment="Right">
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{unitPrice}]]></textFieldExpression>
    </textField>

    <textField pattern="#,##0.00">
        <reportElement x="460" y="5" width="75" height="15"/>
        <textElement textAlignment="Right">
            <font size="10" isBold="true"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{totalPrice}]]></textFieldExpression>
    </textField>

    <!-- Alternate row background -->
    <rectangle>
        <reportElement x="0" y="0" width="535" height="25" backcolor="#F8F8F8">
            <printWhenExpression><![CDATA[$V{REPORT_COUNT} % 2 == 0]]></printWhenExpression>
        </reportElement>
        <graphicElement>
            <pen lineWidth="0"/>
        </graphicElement>
    </rectangle>
</band>
</detail>

        <!-- Column Footer -->
<columnFooter>
<band height="50" splitType="Stretch">
    <line>
        <reportElement x="0" y="5" width="535" height="1"/>
        <graphicElement>
            <pen lineColor="#CCCCCC"/>
        </graphicElement>
    </line>

    <staticText>
        <reportElement x="350" y="15" width="100" height="20"/>
        <textElement textAlignment="Right">
            <font size="12" isBold="true"/>
        </textElement>
        <text><![CDATA[Grand Total:]]></text>
    </staticText>

    <textField pattern="#,##0.00">
        <reportElement x="460" y="15" width="75" height="20"/>
        <textElement textAlignment="Right">
            <font size="12" isBold="true" isUnderline="true"/>
        </textElement>
        <textFieldExpression><![CDATA[$V{totalSum}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="0" y="15" width="200" height="15"/>
        <textElement>
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA["Total Items: " + $V{itemCount}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="0" y="30" width="300" height="15"/>
        <textElement>
            <font size="10"/>
        </textElement>
        <textFieldExpression><![CDATA["Currency: " + $P{currency}]]></textFieldExpression>
    </textField>
</band>
</columnFooter>

        <!-- Page Footer -->
<pageFooter>
<band height="60" splitType="Stretch">
    <line>
        <reportElement x="0" y="5" width="535" height="1"/>
        <graphicElement>
            <pen lineColor="#CCCCCC"/>
        </graphicElement>
    </line>

    <staticText>
        <reportElement x="0" y="15" width="300" height="15"/>
        <textElement>
            <font size="9" isItalic="true"/>
        </textElement>
        <text><![CDATA[Generated by JasperReports Demo Service]]></text>
    </staticText>

    <textField>
        <reportElement x="0" y="30" width="200" height="15"/>
        <textElement>
            <font size="9"/>
        </textElement>
        <textFieldExpression><![CDATA["Company: " + $P{companyName}]]></textFieldExpression>
    </textField>

    <textField>
        <reportElement x="400" y="15" width="80" height="15"/>
        <textElement textAlignment="Right">
            <font size="9"/>
        </textElement>
        <textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER}]]></textFieldExpression>
    </textField>

    <textField evaluationTime="Report">
        <reportElement x="480" y="15" width="55" height="15"/>
        <textElement>
            <font size="9"/>
        </textElement>
        <textFieldExpression><![CDATA[" of " + $V{PAGE_NUMBER}]]></textFieldExpression>
    </textField>

    <textField pattern="dd/MM/yyyy HH:mm">
        <reportElement x="400" y="30" width="135" height="15"/>
        <textElement textAlignment="Right">
            <font size="9"/>
        </textElement>
        <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
    </textField>
</band>
</pageFooter>

        <!-- Summary Band -->
<summary>
<band height="100" splitType="Stretch">
    <rectangle>
        <reportElement x="0" y="10" width="535" height="80" backcolor="#F0F0F0"/>
        <graphicElement>
            <pen lineWidth="1" lineColor="#CCCCCC"/>
        </graphicElement>
    </rectangle>

    <staticText>
        <reportElement x="20" y="25" width="100" height="20"/>
        <textElement>
            <font size="14" isBold="true"/>
        </textElement>
        <text><![CDATA[Summary]]></text>
    </staticText>

    <textField>
        <reportElement x="20" y="50" width="200" height="15"/>
        <textElement>
            <font size="11"/>
        </textElement>
        <textFieldExpression><![CDATA["Total Records: " + $V{itemCount}]]></textFieldExpression>
    </textField>

    <textField pattern="#,##0.00">
        <reportElement x="300" y="50" width="200" height="15"/>
        <textElement>
            <font size="11"/>
        </textElement>
        <textFieldExpression><![CDATA["Grand Total: " + $P{currency} + " " + $V{totalSum}]]></textFieldExpression>
    </textField>

    <staticText>
        <reportElement x="20" y="70" width="400" height="15"/>
        <textElement>
            <font size="9" isItalic="true"/>
        </textElement>
        <text><![CDATA[This report was generated automatically by the JasperReports Docker Demo Service.]]></text>
    </staticText>
</band>
</summary>
</jasperReport>